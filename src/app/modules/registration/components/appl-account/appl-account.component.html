<h1>Account</h1>

<ng-content select="[AccountInstruct]"></ng-content>

<div *ngIf="mohCredientials">

  <h2 class="border-bottom">Prime Account</h2>

  <prime-page-sections layout='tips'>

    <div class="form-group col-sm-6 p-sm-0">
      <label class="control-label">User ID</label>
      <input #userIdRef="ngModel"
             class="form-control"
             name="user_id"
             id="user_id"
             [minlength]="userIdMinLen"
             [ngModel]="registrant?.userID"
             (ngModelChange)="registrant.userID = $event"
             required />

      <!-- Error messages for component -->
      <div *ngIf="userIdRef.touched"
           role="alert"
           class='error-container'
           aria-live="assertive">
        <div class="text-danger" *ngIf="userIdRef?.errors?.required">
          User ID is required.
        </div>
        <div class="text-danger" *ngIf="userIdRef?.errors?.minlength">
          User ID must be a minimum of {{userIdMinLen}} in length.
        </div>
      </div>
    </div>

    <div class="form-group col-sm-6 p-sm-0">
      <common-password componentLabel="{{newPwdLabel}}"
                       [pswdCriteria]="passwordCriteria"
                       [showPasswordStrength]="true"
                       [minLen]="pwdMinLen"
                       [errorMessages]="newPwdErrorMsgs"
                       [password]="registrant?.password"
                       (passwordChange)="registrant.password=$event"></common-password>
    </div>

    <div class="form-group col-sm-6 p-sm-0">
      <common-password componentLabel="{{confirmPwdLabel}}"
                       [minLen]="pwdMinLen"
                       [errorMessages]="confirmPwdErrorMsgs"
                       [pswdCriteria]="registrant.password"></common-password>

    </div>

    <aside>TIPS</aside>

  </prime-page-sections>

</div>

<div>
  <h2 class="border-bottom">Security Questions</h2>

  <prime-page-sections layout='tips'>

    <div class="form-group p-sm-2"
         *ngFor="let item of registrant.secQuestionsAnswer; let i = index;">
      <select class="form-control"
                id="sec_question_{{i}}"
                name="sec_question_{{i}}"
                [ngModel]="item?.question"
                (ngModelChange)="item.question=$event"
                required>
        <option value="null" label="-- Select question --" selected></option>
        <option *ngFor="let question of secQuestionList"
                [value]="question">{{question}}</option>
      </select>
       <input type="text"
              class="form-control mt-2"
              id="sec_answer_{{i}}"
              name="sec_answer_{{i}}"
              [ngModel]="item?.answer"
              (ngModelChange)="item.answer=$event"
              placeholder="Enter answer"
              required />
    </div>

    <aside>TIPS</aside>

  </prime-page-sections>

</div>

<div>
  <h2 class="border-bottom">Contact</h2>

  <prime-page-sections layout='tips'>

    <div class="form-group col-sm-6 p-sm-0">
      <label class="control-label">Mobile/SMS</label>
      <input class="form-control"
             type="text"
             name="mobile_phone"
             id="mobile_phone"
             [ngModel]="registrant?.smsPhone"
             (ngModelChange)="registrant.smsPhone = $event" />
    </div>

    <div class="form-group col-sm-6 p-sm-0">
      <label class="control-label">Email</label>
      <input class="form-control"
             type="email"
             name="user_email"
             id="user_email"
             [ngModel]="registrant?.emailAddress"
             (ngModelChange)="registrant.emailAddress = $event" />
    </div>

    <aside>TIPS</aside>

  </prime-page-sections>

</div>
