<prime-alert>
  System Notification: Server will be down for 2 hours maitenance at 14:30 PT.
</prime-alert>

<section class='dashboard-cards row'>
  <div class="col-sm-6">
    <div class="card">
      <div class="card-header d-flex justify-content-between">
        Contact Information
        <a routerLink="/applicant/contact">
          <i class="fa fa-edit fa-2x text-muted"></i>
        </a>
      </div>
      <div class="card-body d-flex justify-content-between">
        <div class="photocol">
          <img class="photo" src="assets/photoPlaceholder.png" alt="Generic placeholder image">
        </div>
        <div class="appcol">
          <p>{{applicant.name}}</p>
          <p>{{applicant.phone}}</p>
          <p>{{applicant.email}}</p>
        </div>

        <i class="fa fa-check-circle text-success fa-3x pull-right" aria-hidden="true"></i>

      </div>
    </div>
  </div>
  <div class="col-sm-6">
    <div class="card">
      <div class="card-header d-flex justify-content-between">
        Professional Information
        <a routerLink="/applicant/professional">
          <i class="fa fa-edit fa-2x text-muted"></i>
        </a>
      </div>
      <div *ngIf="applicant.hasCollege || applicant.isWorkingOnBehalf"
      class="card-body d-flex justify-content-between">

        <div>
          <ng-container *ngIf="applicant.hasCollege">
            <p>{{collegeType}}</p>
            <p>Practitioner College ID: {{licenceNumber}}</p>
            <p>Registration Renewal Date: {{ licenceExpiryDate }}</p>
          </ng-container>
          <p *ngIf="applicant.isWorkingOnBehalf">Job Title: {{jobTitle}}</p>
        </div>

        <i class="fa fa-check-circle text-success fa-3x pull-right" aria-hidden="true"></i>

      </div>
    </div>
  </div>
  <div class="col-sm-6 mt-4">
    <div class="card">
      <div class="card-header d-flex justify-content-between">
        Terms & Conditions of Access
        <a routerLink="/applicant/access-acceptance">
          <i class="fa fa-edit fa-2x text-muted"></i>
        </a>
      </div>
      <div class="card-body d-flex justify-content-between">
        <p>Renewal Date: {{ renewalDate }}</p>
        <i *ngIf="!applicant.hasUAARequiringAttention()" class="fa fa-check-circle text-success fa-3x pull-right" aria-hidden="true"></i>
        <i *ngIf="applicant.hasUAARequiringAttention()" class="fa fa-exclamation-triangle text-warning fa-3x pull-right" aria-hidden="true"></i>
      </div>
    </div>
  </div>

  <div class="col-sm-6 mt-4">
    <div class="card {{ showPharmaNetAccessWarning() ? 'card-warning' : '' }}">
      <div class="card-header d-flex justify-content-between">
        <label *ngIf="showPharmaNetAccessWarning">PharmaNet Access</label>
        <label *ngIf="!showPharmaNetAccessWarning">Active Enrolment</label>
        <a routerLink="/applicant/pharma-net">
          <i class="fa fa-edit fa-2x text-muted"></i>
        </a>
      </div>
      <div class="card-body d-flex justify-content-between align-items-center" *ngIf='!showPharmaNetAccessWarning(); else pharmaNetAccessWarning'>
        <div class="pharma-net-container">
          <span class="pharma-net-fact"><span class="circle-num">{{ orgCount }}</span> Organization</span>
          <span class="pharma-net-fact"><span class="circle-num">{{ siteCount }}</span> Sites</span>
        </div>

        <!-- TODO - toggle between icon and text as appropriate -->

        <p class="text-success text-bold" *ngIf='!hasHandledSites; else checkMark'>Enrollment Requested</p>
        <ng-template #checkMark><i class="fa fa-check-circle text-success fa-3x pull-right" aria-hidden="true"></i></ng-template>
      </div>
    </div>
  </div>


</section>

<ng-template #emptySection>
  <div class="card-body bg-warning text-center d-flex flex-column align-items-center">
    <p>Please Update Information</p>
  </div>
</ng-template>


<ng-template #pharmaNetAccessWarning>
  <div class="card-body d-flex justify-content-between align-items-center" >
    <div class="pharma-net-container">
        <span class="pharma-net-fact"><span class="circle-num circle-num-warning">{{ sitesRequiringAttention }}</span> <span class='text-bold'> NEW</span> Sites need your attention</span>
      </div>

      <i class="fa fa-exclamation-circle text-warning fa-3x pull-right" aria-hidden="true"></i>
      <!-- <i class="fa fa-check-circle text-success fa-3x pull-right" aria-hidden="true"></i> -->

  </div>
</ng-template>
