<div *ngIf="rowData" class="enrollment-list-item" (click)="toggleRow()" [@openStateDisable]="openState">

  <div class="enrollment-text-container">
    <span class="enrollment-text-main">{{rowData.title}}</span>
  </div>
  <div class="enrollment-actions">
    <div *ngIf="!isDeclinedEnrol() && !declinedEnroll" class="dates-col d-flex justify-content-around">
      <span class="d-inline-flex align-items-baseline mb-1">Start
        <prime-datepicker disabled size="mini" [dateFormat]="dateFormat"
                          [(date)]="startDate"
                          class="ml-1"></prime-datepicker>
      </span>
      <span class="d-inline-flex align-items-baseline mb-1">End
        <prime-datepicker size="mini" [dateFormat]="dateFormat"
                          [(date)]="endDate"
                          class="ml-1"
                          [disabled]="!isActive()"></prime-datepicker>
    </span>
    </div>
    <div *ngIf="isDeclinedEnrol()">
      <div class="col d-inline-flex flex-column">
        <select id="declinedReason" class="form-control drop-dl-box-15 color" disabled>
          <option value="{{declinedReason}}" selected>{{declinedReason}}</option>
        </select>
      </div>
    </div>
    <div *ngIf="isNewEnrol() && declinedEnroll">
      <select id="declinedReason" class="form-control drop-dl-box-15 color"
              [value]="declinedReason"
              (change)="onSelect($event)">
        <option value="Please Select" selected>Please Select</option>
        <option *ngFor="let reason of declinedReasons" value="{{reason}}">
          {{reason}}
        </option>
      </select>
    </div>
    <span class="enrollment-icons">
      <prime-pill-badge
        [alerts]="allChildAlerts"
        [iconOnly]='false'>
      </prime-pill-badge>
      <prime-info-button
        [targetId]="rowData.associatedObjectId"
        [searchDomain]="applicantSearch">
      </prime-info-button>
      <prime-accept-reject-icons *ngIf="isNewEnrol() && !acceptedEnroll && !declinedEnroll"
          (onAccepted)="onAccept()"
          (onRejected)="onDecline()"
          labelAccept="Accept Enrollment"
          labelReject="Decline Enrollment">
      </prime-accept-reject-icons>
    </span>
  </div>
</div>


<div *ngIf="(!isNewEnrol() && isShowProgress()) || (isNewEnrol() && acceptedEnroll)" [@openState]="openState">
  <div [@openStateChild]="openState"  class="expandable-container">

    <div class="enrollment-expandable" *ngFor="let siteAccess of siteAccessRequiringAttention"
      (click)="expandedRowClick(siteAccess)">
      <prime-app-enrollment-progress-row
        [open]="siteAccess.open"
        [data]="siteAccess"
        [disableReason] = "!isNewEnrol()">
      </prime-app-enrollment-progress-row>

    </div>
  </div>
</div>
