<div *ngIf="rowData" class="enrollment-list-item" (click)="toggleRow()" [@openStateDisable]="openState">

  <div class="enrollment-text-container">
    <span class="enrollment-text-main">{{rowData.title}}</span>
  </div>
  <div class="enrollment-actions">
    <div *ngIf="!isDeclinedEnrol()" class="dates-col">
      <label for="startDt">
        Start
      </label>
      <input type="text" id="startDt" [value]="startDate" disabled>
      <label for="endDt">
        End
      </label>
      <input type="text" id="endDt" [value]="endDate" disabled>
    </div>
    <div *ngIf="isDeclinedEnrol()">
      <div class="col d-inline-flex flex-column">
        <select *ngIf="!hasDeclinedReason" id="declinedReason" class="form-control drop-dl-box-15 color"
                (change)="setDeclinedReason($event.target.value)">
          <option value="Please Select">Please Select</option>
          <option *ngFor="let reason of declinedReasons" value="{{reason}}">
            {{reason}}
          </option>
        </select>
        <select *ngIf="hasDeclinedReason" disabled id="declinedReason" class="form-control drop-dl-box-15 color">
          <option value="{{userDeclinedReason}}" selected>{{userDeclinedReason}}</option>
        </select>
      </div>
    </div>
    <span class="enrollment-icons">
      <prime-pill-badge
        [alerts]="allChildAlerts"
        [iconOnly]='false'>
      </prime-pill-badge>
      <prime-info-button
        [targetId]="rowData.associatedObjectId"
        [searchDomain]="applicantSearch">
      </prime-info-button>
      <prime-accept-reject-icons *ngIf="isNewEnrol() && !acceptedEnroll"
          (onAccepted)="onAccept()"
          (onRejected)="onDeclined()"
          labelAccept="Accept Enrollment"
          labelReject="Decline Enrollment">
      </prime-accept-reject-icons>
    </span>
  </div>
</div>


<div *ngIf="!isNewEnrol() || (isNewEnrol() && acceptedEnroll)" [@openState]="openState">
  <div [@openStateChild]="openState"  class="expandable-container">

    <div class="enrollment-expandable" *ngFor="let siteAccess of siteAccessRequiringAttention"
      (click)="expandedRowClick(siteAccess)">
      <prime-app-enrollment-progress-row
        [open]="siteAccess.open"
        [data]="siteAccess"
        [disableReason] = "!isNewEnrol()"
        (updated)="onProgressChange()">
      </prime-app-enrollment-progress-row>

    </div>
  </div>
</div>
