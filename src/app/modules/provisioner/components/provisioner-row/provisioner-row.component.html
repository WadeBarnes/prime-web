<div *ngIf="rowData" class="enrollment-list-item" (click)="toggleRow()" [@openStateDisable]="openState">

  <div class="enrollment-text-container" >
    <ng-container *ngIf="primaryType === 'User'">
      <span class="enrollment-text-main">{{siteName}}</span>
      <span class="enrollment-text-bold">{{siteNumber}} </span>
    </ng-container>
    <ng-container *ngIf="primaryType === 'Site'">
      <span class="enrollment-text-bold">{{rowData.title}}  </span>
    </ng-container>
  </div>



  <div *ngIf="siteStatus === 'Active'">
    <table>
      <tr>
        <td class="provision-element-label" >POS User Id</td>
        <td class="provision-element-label"> Date Provisioned</td>
      </tr>
      <tr>
        <td class="provision-element-text" >{{rowData.sites[0].posUserId}}</td>
        <td class="provision-element-text"> {{rowData.sites[0].provisionedDate}}</td>
        <td class="px-1"></td>
      </tr>
    </table>
  </div>


  <div *ngIf="siteStatus === 'New' || siteStatus === 'AcceptEnrollment'">
    <table>
      <tr>
        <td class="provision-element-label">POS User Id</td>
        <td class="provision-element-label"> Date Provisioned</td>
      </tr>
      <tr>
        <td> <input type="text" size="8"></td>
        <td > <input type="text" size="14"></td>
        <td class="mr-3"></td>
      </tr>
  </table>
 </div>

  <div *ngIf="siteStatus === 'DeclinedEnrollment'">
    <div class="col d-inline-flex flex-column">
      <select id="declinedReason2" class="form-control drop-dl-box-15"
              [value]="declinedReasonSelector" >
        <option value="pleaseSelect" disabled selected>Select Reason</option>
        <option *ngFor="let reason of DeclinedReasons" value="{{reason}}">
          {{declinedReasonValue(reason)}}
        </option>
      </select>
    </div>
  </div>


  <div *ngIf="siteStatus === 'Declined'">
  <div class="col d-inline-flex flex-column">
    <select id="declinedReason1" class="form-control drop-dl-box-15 color"
          [value]="declinedReasonSelector" disabled>
      <option value="pleaseSelect" selected>{{declinedReasonValue('ACCESS_NO_lONGER_REQUIRED')}}</option>
    </select>
  </div>
</div>

  <div class="enrollment-actions">
      <span class="enrollment-icons">
        <prime-pill-badge
            [alerts]="[siteAccessObject.alert]"
            [iconOnly]='false'>
        </prime-pill-badge>
        <i *ngIf="primaryType === 'Site' && siteStatus === 'New'" class="fa fa-flag-o mr-2" style="color: red"></i>
        <i class="fa fa-sticky-note-o mr-2" (click)="goToNotePage()"></i>
        <prime-info-button
            class="mr-2"
            [targetId]="rowData.objectId">
        </prime-info-button>
        <prime-accept-reject-icons
          *ngIf="siteStatus === 'New'"
          (onAccepted)="accept()"
          (onRejected)="reject()"
          labelAccept="Accept Enrollment"
          labelReject="Decline Enrollment"
        ></prime-accept-reject-icons>
      </span>
  </div>
</div>

<div class="table-responsive ml-2 " *ngIf="siteStatus === 'New'" >
  <table >
    <tr>
      <td *ngIf="primaryType === 'User'" class="provision-element-label" width = "8%">PEC</td>
      <td *ngIf="primaryType === 'Site'" class="provision-element-label" width = "8%">College ID</td>
      <td class="provision-element-label" width = "12%"> Request</td>
      <td class="provision-element-label" width = "10%" >Class</td>
      <td class="provision-element-label" width = "12%"> Access Rights</td>
      <td class="provision-element-label" width = "8%" >T&C</td>
      <td class="provision-element-label" width = "8%"> Start</td>
      <td class="provision-element-label" width = "8%">End</td>
      <td class="provision-element-label" width = "20%"> Personal Access</td>
      <td width="2%"></td>
      <td width="12%"></td>
    </tr>
    <tr>
      <td *ngIf="primaryType === 'User'" class="provision-element-text">{{rowData.sites[0].PEC}}</td>
      <td *ngIf="primaryType === 'Site'" class="provision-element-text">{{rowData.sites[0].collegeId}} </td>
      <td class="provision-element-text"> {{rowData.sites[0].request}}</td>
      <td class="provision-element-text">{{rowData.sites[0].siteClass}}</td>
      <td class="provision-element-text"> {{rowData.sites[0].accessRights}}</td>
      <td class="provision-element-text">{{rowData.sites[0].tAndC}}</td>
      <td class="provision-element-text"> {{rowData.sites[0].startDate}}</td>
      <td class="provision-element-text">{{rowData.sites[0].endDate}}</td>
      <td class="provision-element-text"> {{rowData.sites[0].personalAccess}}</td>
      <td></td>
      <td class="mr-2"><input type="checkbox" >T&C Enforceable </td>
    </tr>
  </table>
</div>

<div [@openState]="openState">
  <div [@openStateChild]="openState"  class="expandable-container">
    <div class="enrollment-expandable" >
      <prime-enrollment-progress-row
        [open]='true'
        [data]='siteAccessObject'>
      </prime-enrollment-progress-row>
    </div>
  </div>
</div>
