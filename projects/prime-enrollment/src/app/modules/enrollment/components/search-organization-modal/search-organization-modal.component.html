<header mat-dialog-title class="mat-elevation-z2">
  <h2>Find and Add an Organization</h2>
  <button class="btn close-button" (click)="cancel()"><i class="fa fa-2x fa-times-circle-o close"></i></button>
</header>
<mat-card class="mat-elevation-z0">
  <mat-card-content *ngIf="fg$ | async as fg">
    <form [formGroup]="fg">
      <div class="form-group">
        <label class="control-label" for="type">Type</label>
        <ng-select id="type" formControlName="type" [items]="types | async"></ng-select>
        <enroll-error label="Type" [valid]="fg.controls.type.valid" [touched]="fg.controls.type.valid"></enroll-error>
      </div>
      <div class="form-group">
        <label class="control-label" for="organization">Organization Name</label>
        <input class="form-control" id="organization" formControlName="organization">
        <enroll-error label="Type" [valid]="fg.controls.organization.valid" [touched]="fg.controls.organization.valid">
        </enroll-error>

      </div>
      <div class="form-group">
        <label class="control-label" for="city">City (Optional)</label>
        <input class="form-control" id="city" formControlName="city">

      </div>
      <button class="btn btn-md btn-secondary action-button" (click)="find()" *ngIf="search"
        [disabled]="!fg.value.type || !fg.value.organization">Find</button>
    </form>
  </mat-card-content>
  <ng-container *ngIf="searchResults | async as results">
    <enroll-list-item-header [headers]="searchResultsHeaders | async "></enroll-list-item-header>

    <enroll-list-item *ngFor="let result of results" [data]="result" (selected)="selectedResults($event, result)">
    </enroll-list-item>
  </ng-container>
</mat-card>
<div class="actions">
  <button class="btn btn-md cancel action-button" (click)="submit.emit(false)">Cancel</button><button
    class="btn btn-primary btn-md add action-button" (click)="add()" [disabled]="!stateSvc.selectedOrgs">Add</button>
</div>
