<div class="card">
  <div class="card-header">
    Find and Add an Organization
    <button class="btn close-button" (click)="submit.emit(false)"><i
        class="fa fa-2x fa-times-circle-o close"></i></button>
  </div>

  <div class="card-body">
    <form [formGroup]="fg">
      <div class="form-group">
        <label class="control-label" for="type">Type</label>
        <ng-select id="type" formControlName="type" [items]="types | async"></ng-select>
        <enroll-error label="Type" [valid]="fg.controls.type.valid" [touched]="fg.controls.type.touched"></enroll-error>
      </div>
      <div class="form-group">
        <label class="control-label" for="organization">Organization Name</label>
        <input class="form-control" id="organization" formControlName="organization">
        <enroll-error label="Organization" [valid]="fg.controls.organization.valid"
          [touched]="fg.controls.organization.touched">
        </enroll-error>

      </div>
      <div class="form-group">
        <label class="control-label" for="city">City (Optional)</label>
        <input class="form-control" id="city" formControlName="city">

      </div>
      <button class="btn btn-md btn-secondary action-button" (click)="find()" *ngIf="search">Find</button>
    </form>
  </div>
  <ul class="list-group list-group-flush" *ngIf="searchResults | async as results">
    <li class="list-group-item">
      <enroll-list-item-header [headers]="searchResultsHeaders | async "></enroll-list-item-header>
    </li>

    <li class="list-group-item">
      <enroll-list-item *ngFor="let result of results" [data]="result" (selected)="selectedResults($event, result)">
      </enroll-list-item>
    </li>
  </ul>
  <div class="actions card-body">
    <button class="btn btn-md cancel action-button" (click)="submit.emit(false)">Cancel</button><button
      class="btn btn-primary btn-md add action-button" (click)="add()" [disabled]="!stateSvc.selectedOrgs">Add</button>
  </div>
</div>
