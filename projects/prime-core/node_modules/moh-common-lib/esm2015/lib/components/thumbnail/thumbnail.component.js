/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewChild, Input, Output, EventEmitter, ViewContainerRef } from '@angular/core';
import { ModalDirective } from 'ngx-bootstrap';
import { CommonImage } from '../../../images/src/images';
export class ThumbnailComponent {
    /**
     * @param {?} viewContainerRef
     */
    constructor(viewContainerRef) {
        this.reviewMode = false;
        this.deleteImage = new EventEmitter();
        this.scaledWidth = 300;
        this.viewContainerRef = viewContainerRef;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        /** @type {?} */
        const scaledWidthString = (180 * this.imageObject.naturalWidth / this.imageObject.naturalHeight).toFixed(0);
        // console.log('scaled width: ' + scaledWidthString);
        this.scaledWidth = parseInt(scaledWidthString, 10);
        if (this.scaledWidth > 250) {
            // console.log('Scaled width > 250, drop it down to 250');
            this.scaledWidth = 250;
        }
        else if (this.scaledWidth < 30) {
            this.scaledWidth = 100;
        }
        if (isNaN(this.scaledWidth)) {
            this.scaledWidth = 300;
        }
    }
    /**
     * @param {?} evt
     * @return {?}
     */
    delete(evt) {
        console.log('ThumbnailComponent:Delete from thumbnail: %o', evt);
        console.log('ThumbnailComponent:imageObject:', JSON.stringify(this.imageObject, null, 2));
        this.deleteImage.emit(this.imageObject);
    }
    /**
     * @return {?}
     */
    showFullSizeView() {
        this.fullSizeViewModal.config.backdrop = false;
        this.fullSizeViewModal.show();
    }
    /**
     * @return {?}
     */
    hideFullSizeView() {
        this.fullSizeViewModal.hide();
    }
}
ThumbnailComponent.decorators = [
    { type: Component, args: [{
                selector: 'common-thumbnail',
                template: "<div class=\"thumbnail-container\">\n  <img [src]=\"imageObject.fileContent\" alt=\"\" tabindex=\"0\"\n    [ngClass]=\"{'image-thumbnail': scaledWidth <= 300, 'image-thumbnail-width-priority': scaledWidth > 300}\"\n    (click)=\"showFullSizeView()\">\n  <div class=\"action-strip\" *ngIf=\"!reviewMode\">\n    <a href=\"javascript:void(0)\" (click)=\"delete($event)\" class='text-danger' tabindex=\"0\">Remove</a>\n  </div>\n</div>\n\n<div bsModal #fullSizeViewModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-lg\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\">{{imageObject.name}}</h4>\n        <button type=\"button\" class=\"close\" (click)=\"hideFullSizeView()\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"row\">\n          <div class=\"col-md-12\" >\n            <img [src]=\"imageObject.fileContent\" alt=\"{{imageObject.name}}\" class=\"center-block img-fluid\">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>",
                styles: [".thumbnail-container{transition:.3s;-webkit-transform:translateY(0);transform:translateY(0)}.thumbnail-container .image-thumbnail,.thumbnail-container .image-thumbnail-width-priority{padding:2px 2px 0;border-radius:5px 5px 0 0}.thumbnail-container .image-thumbnail-width-priority:hover,.thumbnail-container .image-thumbnail:hover{cursor:zoom-in}.thumbnail-container .image-thumbnail{max-height:100px;height:auto;max-width:100%}.thumbnail-container .image-thumbnail-width-priority{max-width:270px;width:auto;max-height:100%}.thumbnail-container:hover{box-shadow:0 15px 10px -10px rgba(0,0,0,.1);-webkit-transform:translateY(-5px);transform:translateY(-5px)}.thumbnail-container:hover .action-strip{background:#ececec}.thumbnail-container .action-strip{height:2em;border-radius:0 0 5px 5px;text-align:right;font-size:small;margin:0 2px;color:#a94442;padding:.3em;transition:.3s}.thumbnail-container .action-strip a{text-decoration:none}"]
            }] }
];
/** @nocollapse */
ThumbnailComponent.ctorParameters = () => [
    { type: ViewContainerRef }
];
ThumbnailComponent.propDecorators = {
    imageObject: [{ type: Input }],
    reviewMode: [{ type: Input }],
    deleteImage: [{ type: Output }],
    fullSizeViewModal: [{ type: ViewChild, args: ['fullSizeViewModal',] }]
};
if (false) {
    /** @type {?} */
    ThumbnailComponent.prototype.imageObject;
    /** @type {?} */
    ThumbnailComponent.prototype.reviewMode;
    /** @type {?} */
    ThumbnailComponent.prototype.deleteImage;
    /** @type {?} */
    ThumbnailComponent.prototype.fullSizeViewModal;
    /**
     * @type {?}
     * @private
     */
    ThumbnailComponent.prototype.viewContainerRef;
    /** @type {?} */
    ThumbnailComponent.prototype.scaledWidth;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGh1bWJuYWlsLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL21vaC1jb21tb24tbGliLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvdGh1bWJuYWlsL3RodW1ibmFpbC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzVHLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBT3pELE1BQU0sT0FBTyxrQkFBa0I7Ozs7SUFPN0IsWUFBWSxnQkFBa0M7UUFMckMsZUFBVSxHQUFZLEtBQUssQ0FBQztRQUMzQixnQkFBVyxHQUE4QixJQUFJLFlBQVksRUFBZSxDQUFDO1FBUW5GLGdCQUFXLEdBQVcsR0FBRyxDQUFDO1FBSHhCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztJQUMzQyxDQUFDOzs7O0lBR0QsUUFBUTs7Y0FFQSxpQkFBaUIsR0FBVyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDbkgscURBQXFEO1FBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDLGlCQUFpQixFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRW5ELElBQUksSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLEVBQUU7WUFDMUIsMERBQTBEO1lBQzFELElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1NBQ3hCO2FBQU0sSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsRUFBRTtZQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztTQUN4QjtRQUVELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUMzQixJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztTQUN4QjtJQUNILENBQUM7Ozs7O0lBRUQsTUFBTSxDQUFDLEdBQVE7UUFDYixPQUFPLENBQUMsR0FBRyxDQUFDLDhDQUE4QyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2pFLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFGLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMxQyxDQUFDOzs7O0lBRUQsZ0JBQWdCO1FBQ2QsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQy9DLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQyxDQUFDOzs7O0lBRUQsZ0JBQWdCO1FBQ2QsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hDLENBQUM7OztZQWhERixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLGtCQUFrQjtnQkFDNUIsMnVDQUErQjs7YUFFaEM7Ozs7WUFUbUUsZ0JBQWdCOzs7MEJBV2pGLEtBQUs7eUJBQ0wsS0FBSzswQkFDTCxNQUFNO2dDQUNOLFNBQVMsU0FBQyxtQkFBbUI7Ozs7SUFIOUIseUNBQWtDOztJQUNsQyx3Q0FBcUM7O0lBQ3JDLHlDQUFtRjs7SUFDbkYsK0NBQXlFOzs7OztJQUV6RSw4Q0FBMkM7O0lBSzNDLHlDQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgVmlld0NoaWxkLCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTW9kYWxEaXJlY3RpdmUgfSBmcm9tICduZ3gtYm9vdHN0cmFwJztcblxuaW1wb3J0IHsgQ29tbW9uSW1hZ2UgfSBmcm9tICcuLi8uLi8uLi9pbWFnZXMvc3JjL2ltYWdlcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2NvbW1vbi10aHVtYm5haWwnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGh1bWJuYWlsLmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi90aHVtYm5haWwuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFRodW1ibmFpbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIGltYWdlT2JqZWN0OiBDb21tb25JbWFnZTtcbiAgQElucHV0KCkgcmV2aWV3TW9kZTogYm9vbGVhbiA9IGZhbHNlO1xuICBAT3V0cHV0KCkgZGVsZXRlSW1hZ2U6IEV2ZW50RW1pdHRlcjxDb21tb25JbWFnZT4gPSBuZXcgRXZlbnRFbWl0dGVyPENvbW1vbkltYWdlPigpO1xuICBAVmlld0NoaWxkKCdmdWxsU2l6ZVZpZXdNb2RhbCcpIHB1YmxpYyBmdWxsU2l6ZVZpZXdNb2RhbDogTW9kYWxEaXJlY3RpdmU7XG5cbiAgcHJpdmF0ZSB2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmO1xuICBjb25zdHJ1Y3Rvcih2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgdGhpcy52aWV3Q29udGFpbmVyUmVmID0gdmlld0NvbnRhaW5lclJlZjtcbiAgfVxuXG4gIHNjYWxlZFdpZHRoOiBudW1iZXIgPSAzMDA7XG4gIG5nT25Jbml0KCkge1xuXG4gICAgY29uc3Qgc2NhbGVkV2lkdGhTdHJpbmc6IHN0cmluZyA9ICgxODAgKiB0aGlzLmltYWdlT2JqZWN0Lm5hdHVyYWxXaWR0aCAvIHRoaXMuaW1hZ2VPYmplY3QubmF0dXJhbEhlaWdodCkudG9GaXhlZCgwKTtcbiAgICAvLyBjb25zb2xlLmxvZygnc2NhbGVkIHdpZHRoOiAnICsgc2NhbGVkV2lkdGhTdHJpbmcpO1xuICAgIHRoaXMuc2NhbGVkV2lkdGggPSBwYXJzZUludChzY2FsZWRXaWR0aFN0cmluZywgMTApO1xuXG4gICAgaWYgKHRoaXMuc2NhbGVkV2lkdGggPiAyNTApIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdTY2FsZWQgd2lkdGggPiAyNTAsIGRyb3AgaXQgZG93biB0byAyNTAnKTtcbiAgICAgIHRoaXMuc2NhbGVkV2lkdGggPSAyNTA7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNjYWxlZFdpZHRoIDwgMzApIHtcbiAgICAgIHRoaXMuc2NhbGVkV2lkdGggPSAxMDA7XG4gICAgfVxuXG4gICAgaWYgKGlzTmFOKHRoaXMuc2NhbGVkV2lkdGgpKSB7XG4gICAgICB0aGlzLnNjYWxlZFdpZHRoID0gMzAwO1xuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZShldnQ6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKCdUaHVtYm5haWxDb21wb25lbnQ6RGVsZXRlIGZyb20gdGh1bWJuYWlsOiAlbycsIGV2dCk7XG4gICAgY29uc29sZS5sb2coJ1RodW1ibmFpbENvbXBvbmVudDppbWFnZU9iamVjdDonLCBKU09OLnN0cmluZ2lmeSh0aGlzLmltYWdlT2JqZWN0LCBudWxsLCAyKSk7XG4gICAgdGhpcy5kZWxldGVJbWFnZS5lbWl0KHRoaXMuaW1hZ2VPYmplY3QpO1xuICB9XG5cbiAgc2hvd0Z1bGxTaXplVmlldygpIHtcbiAgICB0aGlzLmZ1bGxTaXplVmlld01vZGFsLmNvbmZpZy5iYWNrZHJvcCA9IGZhbHNlO1xuICAgIHRoaXMuZnVsbFNpemVWaWV3TW9kYWwuc2hvdygpO1xuICB9XG5cbiAgaGlkZUZ1bGxTaXplVmlldygpIHtcbiAgICB0aGlzLmZ1bGxTaXplVmlld01vZGFsLmhpZGUoKTtcbiAgfVxuXG59XG4iXX0=