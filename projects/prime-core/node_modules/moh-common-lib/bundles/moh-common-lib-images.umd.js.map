{"version":3,"file":"moh-common-lib-images.umd.js.map","sources":["ng://moh-common-lib/images/images.ts"],"sourcesContent":["import { UUID } from 'angular2-uuid';\n\n// NOTE: If you change anything in this enum, check image-error-modal.component.html for tests and file-uploader.component.ts:\nexport enum CommonImageError {\n    WrongType,\n    TooSmall,\n    TooBig,\n    AlreadyExists,\n    Unknown,\n    CannotOpen,\n    PDFnotSupported,\n    CannotOpenPDF,\n}\n\nexport class CommonImageProcessingError {\n    commonImage?: CommonImage;\n    rawImageFile?: File;\n    maxSizeAllowed?: number;\n    // added errorDescription.PDF.JS gives proper error messages as invalid pdf structure or password protected pdf.Good for splunk tracking\n    constructor(public errorCode: CommonImageError, public errorDescription?: string) {\n\n    }\n}\n/**\n * Image as uploaded by user\n */\nexport class CommonImage {\n\n    uuid: string;\n\n    constructor() {\n        this.uuid = UUID.UUID();\n    }\n\n    fileContent: string;\n    contentType: string;\n    // number of bytes.\n    size: number;\n    sizeUnit: string;\n    sizeTxt: string;\n    naturalHeight: number;\n    naturalWidth: number;\n    name: string;\n\n    // file uniqness checksum\n    id: string;\n\n    error?: CommonImageError;\n    attachmentOrder: number = 0;\n}\n\nexport interface CommonImageScaleFactors {\n    widthFactor: number;\n    heightFactor: number;\n\n    scaleDown(scale: number): CommonImageScaleFactors;\n}\n\nexport class CommonImageScaleFactorsImpl implements CommonImageScaleFactors {\n    widthFactor: number;\n    heightFactor: number;\n\n    constructor(wFactor: number, hFactor: number) {\n        this.widthFactor = wFactor;\n        this.heightFactor = hFactor;\n    }\n\n    scaleDown(scale: number): CommonImageScaleFactors {\n        return new CommonImageScaleFactorsImpl(\n            this.widthFactor * scale,\n            this.heightFactor * scale);\n    }\n}\n"],"names":["UUID"],"mappings":";;;;;;;;;;AAAA;;QAII,YAAS;QACT,WAAQ;QACR,SAAM;QACN,gBAAa;QACb,UAAO;QACP,aAAU;QACV,kBAAe;QACf,gBAAa;;;;;;;;;;AAGjB;;QAKI,oCAAmB,SAA2B,EAAS,gBAAyB;YAA7D,cAAS,GAAT,SAAS,CAAkB;YAAS,qBAAgB,GAAhB,gBAAgB,CAAS;SAE/E;QACL,iCAAC;IAAD,CAAC,IAAA;;;;AAID;;;QAII;YAkBA,oBAAe,GAAW,CAAC,CAAC;YAjBxB,IAAI,CAAC,IAAI,GAAGA,iBAAI,CAAC,IAAI,EAAE,CAAC;SAC3B;QAiBL,kBAAC;IAAD,CAAC,IAAA;;QAaG,qCAAY,OAAe,EAAE,OAAe;YACxC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;YAC3B,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;SAC/B;;;;;QAED,+CAAS;;;;YAAT,UAAU,KAAa;gBACnB,OAAO,IAAI,2BAA2B,CAClC,IAAI,CAAC,WAAW,GAAG,KAAK,EACxB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,CAAC;aAClC;QACL,kCAAC;IAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;"}
