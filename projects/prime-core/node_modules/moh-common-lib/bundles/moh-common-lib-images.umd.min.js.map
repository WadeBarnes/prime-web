{"version":3,"sources":["ng://moh-common-lib/images/images.ts"],"names":["WrongType","TooSmall","TooBig","AlreadyExists","Unknown","CannotOpen","PDFnotSupported","CannotOpenPDF","CommonImageProcessingError","errorCode","errorDescription","this","CommonImage","attachmentOrder","uuid","UUID","CommonImageScaleFactorsImpl","wFactor","hFactor","widthFactor","heightFactor","prototype","scaleDown","scale"],"mappings":"kVAIIA,UAAA,EACAC,SAAA,EACAC,OAAA,EACAC,cAAA,EACAC,QAAA,EACAC,WAAA,EACAC,gBAAA,EACAC,cAAA,6OAGJ,IAAAC,EAKI,SAAAA,EAAmBC,EAAoCC,GAApCC,KAAAF,UAAAA,EAAoCE,KAAAD,iBAAAA,KAWvD,SAAAE,IAkBAD,KAAAE,gBAA0B,EAjBtBF,KAAKG,KAAOC,EAAAA,KAAKA,qBA+BrB,SAAAC,EAAYC,EAAiBC,GACzBP,KAAKQ,YAAcF,EACnBN,KAAKS,aAAeF,EAQ5B,OALIF,EAAAK,UAAAC,UAAA,SAAUC,GACN,OAAO,IAAIP,EACPL,KAAKQ,YAAcI,EACnBZ,KAAKS,aAAeG,IAEhCP","sourcesContent":["import { UUID } from 'angular2-uuid';\n\n// NOTE: If you change anything in this enum, check image-error-modal.component.html for tests and file-uploader.component.ts:\nexport enum CommonImageError {\n    WrongType,\n    TooSmall,\n    TooBig,\n    AlreadyExists,\n    Unknown,\n    CannotOpen,\n    PDFnotSupported,\n    CannotOpenPDF,\n}\n\nexport class CommonImageProcessingError {\n    commonImage?: CommonImage;\n    rawImageFile?: File;\n    maxSizeAllowed?: number;\n    // added errorDescription.PDF.JS gives proper error messages as invalid pdf structure or password protected pdf.Good for splunk tracking\n    constructor(public errorCode: CommonImageError, public errorDescription?: string) {\n\n    }\n}\n/**\n * Image as uploaded by user\n */\nexport class CommonImage {\n\n    uuid: string;\n\n    constructor() {\n        this.uuid = UUID.UUID();\n    }\n\n    fileContent: string;\n    contentType: string;\n    // number of bytes.\n    size: number;\n    sizeUnit: string;\n    sizeTxt: string;\n    naturalHeight: number;\n    naturalWidth: number;\n    name: string;\n\n    // file uniqness checksum\n    id: string;\n\n    error?: CommonImageError;\n    attachmentOrder: number = 0;\n}\n\nexport interface CommonImageScaleFactors {\n    widthFactor: number;\n    heightFactor: number;\n\n    scaleDown(scale: number): CommonImageScaleFactors;\n}\n\nexport class CommonImageScaleFactorsImpl implements CommonImageScaleFactors {\n    widthFactor: number;\n    heightFactor: number;\n\n    constructor(wFactor: number, hFactor: number) {\n        this.widthFactor = wFactor;\n        this.heightFactor = hFactor;\n    }\n\n    scaleDown(scale: number): CommonImageScaleFactors {\n        return new CommonImageScaleFactorsImpl(\n            this.widthFactor * scale,\n            this.heightFactor * scale);\n    }\n}\n"]}