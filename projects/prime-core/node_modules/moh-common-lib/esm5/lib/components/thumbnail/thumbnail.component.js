/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewChild, Input, Output, EventEmitter, ViewContainerRef } from '@angular/core';
import { ModalDirective } from 'ngx-bootstrap';
import { CommonImage } from '../../../images/src/images';
var ThumbnailComponent = /** @class */ (function () {
    function ThumbnailComponent(viewContainerRef) {
        this.reviewMode = false;
        this.deleteImage = new EventEmitter();
        this.scaledWidth = 300;
        this.viewContainerRef = viewContainerRef;
    }
    /**
     * @return {?}
     */
    ThumbnailComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var scaledWidthString = (180 * this.imageObject.naturalWidth / this.imageObject.naturalHeight).toFixed(0);
        // console.log('scaled width: ' + scaledWidthString);
        this.scaledWidth = parseInt(scaledWidthString, 10);
        if (this.scaledWidth > 250) {
            // console.log('Scaled width > 250, drop it down to 250');
            this.scaledWidth = 250;
        }
        else if (this.scaledWidth < 30) {
            this.scaledWidth = 100;
        }
        if (isNaN(this.scaledWidth)) {
            this.scaledWidth = 300;
        }
    };
    /**
     * @param {?} evt
     * @return {?}
     */
    ThumbnailComponent.prototype.delete = /**
     * @param {?} evt
     * @return {?}
     */
    function (evt) {
        console.log('ThumbnailComponent:Delete from thumbnail: %o', evt);
        console.log('ThumbnailComponent:imageObject:', JSON.stringify(this.imageObject, null, 2));
        this.deleteImage.emit(this.imageObject);
    };
    /**
     * @return {?}
     */
    ThumbnailComponent.prototype.showFullSizeView = /**
     * @return {?}
     */
    function () {
        this.fullSizeViewModal.config.backdrop = false;
        this.fullSizeViewModal.show();
    };
    /**
     * @return {?}
     */
    ThumbnailComponent.prototype.hideFullSizeView = /**
     * @return {?}
     */
    function () {
        this.fullSizeViewModal.hide();
    };
    ThumbnailComponent.decorators = [
        { type: Component, args: [{
                    selector: 'common-thumbnail',
                    template: "<div class=\"thumbnail-container\">\n  <img [src]=\"imageObject.fileContent\" alt=\"\" tabindex=\"0\"\n    [ngClass]=\"{'image-thumbnail': scaledWidth <= 300, 'image-thumbnail-width-priority': scaledWidth > 300}\"\n    (click)=\"showFullSizeView()\">\n  <div class=\"action-strip\" *ngIf=\"!reviewMode\">\n    <a href=\"javascript:void(0)\" (click)=\"delete($event)\" class='text-danger' tabindex=\"0\">Remove</a>\n  </div>\n</div>\n\n<div bsModal #fullSizeViewModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-lg\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\">{{imageObject.name}}</h4>\n        <button type=\"button\" class=\"close\" (click)=\"hideFullSizeView()\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"row\">\n          <div class=\"col-md-12\" >\n            <img [src]=\"imageObject.fileContent\" alt=\"{{imageObject.name}}\" class=\"center-block img-fluid\">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>",
                    styles: [".thumbnail-container{transition:.3s;-webkit-transform:translateY(0);transform:translateY(0)}.thumbnail-container .image-thumbnail,.thumbnail-container .image-thumbnail-width-priority{padding:2px 2px 0;border-radius:5px 5px 0 0}.thumbnail-container .image-thumbnail-width-priority:hover,.thumbnail-container .image-thumbnail:hover{cursor:zoom-in}.thumbnail-container .image-thumbnail{max-height:100px;height:auto;max-width:100%}.thumbnail-container .image-thumbnail-width-priority{max-width:270px;width:auto;max-height:100%}.thumbnail-container:hover{box-shadow:0 15px 10px -10px rgba(0,0,0,.1);-webkit-transform:translateY(-5px);transform:translateY(-5px)}.thumbnail-container:hover .action-strip{background:#ececec}.thumbnail-container .action-strip{height:2em;border-radius:0 0 5px 5px;text-align:right;font-size:small;margin:0 2px;color:#a94442;padding:.3em;transition:.3s}.thumbnail-container .action-strip a{text-decoration:none}"]
                }] }
    ];
    /** @nocollapse */
    ThumbnailComponent.ctorParameters = function () { return [
        { type: ViewContainerRef }
    ]; };
    ThumbnailComponent.propDecorators = {
        imageObject: [{ type: Input }],
        reviewMode: [{ type: Input }],
        deleteImage: [{ type: Output }],
        fullSizeViewModal: [{ type: ViewChild, args: ['fullSizeViewModal',] }]
    };
    return ThumbnailComponent;
}());
export { ThumbnailComponent };
if (false) {
    /** @type {?} */
    ThumbnailComponent.prototype.imageObject;
    /** @type {?} */
    ThumbnailComponent.prototype.reviewMode;
    /** @type {?} */
    ThumbnailComponent.prototype.deleteImage;
    /** @type {?} */
    ThumbnailComponent.prototype.fullSizeViewModal;
    /**
     * @type {?}
     * @private
     */
    ThumbnailComponent.prototype.viewContainerRef;
    /** @type {?} */
    ThumbnailComponent.prototype.scaledWidth;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGh1bWJuYWlsLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL21vaC1jb21tb24tbGliLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvdGh1bWJuYWlsL3RodW1ibmFpbC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzVHLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRXpEO0lBWUUsNEJBQVksZ0JBQWtDO1FBTHJDLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFDM0IsZ0JBQVcsR0FBOEIsSUFBSSxZQUFZLEVBQWUsQ0FBQztRQVFuRixnQkFBVyxHQUFXLEdBQUcsQ0FBQztRQUh4QixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7SUFDM0MsQ0FBQzs7OztJQUdELHFDQUFROzs7SUFBUjs7WUFFUSxpQkFBaUIsR0FBVyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDbkgscURBQXFEO1FBQ3JELElBQUksQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDLGlCQUFpQixFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRW5ELElBQUksSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLEVBQUU7WUFDMUIsMERBQTBEO1lBQzFELElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1NBQ3hCO2FBQU0sSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsRUFBRTtZQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztTQUN4QjtRQUVELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUMzQixJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztTQUN4QjtJQUNILENBQUM7Ozs7O0lBRUQsbUNBQU07Ozs7SUFBTixVQUFPLEdBQVE7UUFDYixPQUFPLENBQUMsR0FBRyxDQUFDLDhDQUE4QyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2pFLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFGLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMxQyxDQUFDOzs7O0lBRUQsNkNBQWdCOzs7SUFBaEI7UUFDRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDL0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hDLENBQUM7Ozs7SUFFRCw2Q0FBZ0I7OztJQUFoQjtRQUNFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQyxDQUFDOztnQkFoREYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxrQkFBa0I7b0JBQzVCLDJ1Q0FBK0I7O2lCQUVoQzs7OztnQkFUbUUsZ0JBQWdCOzs7OEJBV2pGLEtBQUs7NkJBQ0wsS0FBSzs4QkFDTCxNQUFNO29DQUNOLFNBQVMsU0FBQyxtQkFBbUI7O0lBeUNoQyx5QkFBQztDQUFBLEFBbERELElBa0RDO1NBN0NZLGtCQUFrQjs7O0lBQzdCLHlDQUFrQzs7SUFDbEMsd0NBQXFDOztJQUNyQyx5Q0FBbUY7O0lBQ25GLCtDQUF5RTs7Ozs7SUFFekUsOENBQTJDOztJQUszQyx5Q0FBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIFZpZXdDaGlsZCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIFZpZXdDb250YWluZXJSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1vZGFsRGlyZWN0aXZlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcCc7XG5cbmltcG9ydCB7IENvbW1vbkltYWdlIH0gZnJvbSAnLi4vLi4vLi4vaW1hZ2VzL3NyYy9pbWFnZXMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjb21tb24tdGh1bWJuYWlsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RodW1ibmFpbC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vdGh1bWJuYWlsLnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBUaHVtYm5haWxDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKSBpbWFnZU9iamVjdDogQ29tbW9uSW1hZ2U7XG4gIEBJbnB1dCgpIHJldmlld01vZGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQE91dHB1dCgpIGRlbGV0ZUltYWdlOiBFdmVudEVtaXR0ZXI8Q29tbW9uSW1hZ2U+ID0gbmV3IEV2ZW50RW1pdHRlcjxDb21tb25JbWFnZT4oKTtcbiAgQFZpZXdDaGlsZCgnZnVsbFNpemVWaWV3TW9kYWwnKSBwdWJsaWMgZnVsbFNpemVWaWV3TW9kYWw6IE1vZGFsRGlyZWN0aXZlO1xuXG4gIHByaXZhdGUgdmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZjtcbiAgY29uc3RydWN0b3Iodmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZikge1xuICAgIHRoaXMudmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gIH1cblxuICBzY2FsZWRXaWR0aDogbnVtYmVyID0gMzAwO1xuICBuZ09uSW5pdCgpIHtcblxuICAgIGNvbnN0IHNjYWxlZFdpZHRoU3RyaW5nOiBzdHJpbmcgPSAoMTgwICogdGhpcy5pbWFnZU9iamVjdC5uYXR1cmFsV2lkdGggLyB0aGlzLmltYWdlT2JqZWN0Lm5hdHVyYWxIZWlnaHQpLnRvRml4ZWQoMCk7XG4gICAgLy8gY29uc29sZS5sb2coJ3NjYWxlZCB3aWR0aDogJyArIHNjYWxlZFdpZHRoU3RyaW5nKTtcbiAgICB0aGlzLnNjYWxlZFdpZHRoID0gcGFyc2VJbnQoc2NhbGVkV2lkdGhTdHJpbmcsIDEwKTtcblxuICAgIGlmICh0aGlzLnNjYWxlZFdpZHRoID4gMjUwKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnU2NhbGVkIHdpZHRoID4gMjUwLCBkcm9wIGl0IGRvd24gdG8gMjUwJyk7XG4gICAgICB0aGlzLnNjYWxlZFdpZHRoID0gMjUwO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY2FsZWRXaWR0aCA8IDMwKSB7XG4gICAgICB0aGlzLnNjYWxlZFdpZHRoID0gMTAwO1xuICAgIH1cblxuICAgIGlmIChpc05hTih0aGlzLnNjYWxlZFdpZHRoKSkge1xuICAgICAgdGhpcy5zY2FsZWRXaWR0aCA9IDMwMDtcbiAgICB9XG4gIH1cblxuICBkZWxldGUoZXZ0OiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZygnVGh1bWJuYWlsQ29tcG9uZW50OkRlbGV0ZSBmcm9tIHRodW1ibmFpbDogJW8nLCBldnQpO1xuICAgIGNvbnNvbGUubG9nKCdUaHVtYm5haWxDb21wb25lbnQ6aW1hZ2VPYmplY3Q6JywgSlNPTi5zdHJpbmdpZnkodGhpcy5pbWFnZU9iamVjdCwgbnVsbCwgMikpO1xuICAgIHRoaXMuZGVsZXRlSW1hZ2UuZW1pdCh0aGlzLmltYWdlT2JqZWN0KTtcbiAgfVxuXG4gIHNob3dGdWxsU2l6ZVZpZXcoKSB7XG4gICAgdGhpcy5mdWxsU2l6ZVZpZXdNb2RhbC5jb25maWcuYmFja2Ryb3AgPSBmYWxzZTtcbiAgICB0aGlzLmZ1bGxTaXplVmlld01vZGFsLnNob3coKTtcbiAgfVxuXG4gIGhpZGVGdWxsU2l6ZVZpZXcoKSB7XG4gICAgdGhpcy5mdWxsU2l6ZVZpZXdNb2RhbC5oaWRlKCk7XG4gIH1cblxufVxuIl19