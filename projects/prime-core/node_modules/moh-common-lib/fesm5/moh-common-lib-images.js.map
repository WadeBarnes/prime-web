{"version":3,"file":"moh-common-lib-images.js.map","sources":["ng://moh-common-lib/images/images.ts"],"sourcesContent":["import { UUID } from 'angular2-uuid';\n\n// NOTE: If you change anything in this enum, check image-error-modal.component.html for tests and file-uploader.component.ts:\nexport enum CommonImageError {\n    WrongType,\n    TooSmall,\n    TooBig,\n    AlreadyExists,\n    Unknown,\n    CannotOpen,\n    PDFnotSupported,\n    CannotOpenPDF,\n}\n\nexport class CommonImageProcessingError {\n    commonImage?: CommonImage;\n    rawImageFile?: File;\n    maxSizeAllowed?: number;\n    // added errorDescription.PDF.JS gives proper error messages as invalid pdf structure or password protected pdf.Good for splunk tracking\n    constructor(public errorCode: CommonImageError, public errorDescription?: string) {\n\n    }\n}\n/**\n * Image as uploaded by user\n */\nexport class CommonImage {\n\n    uuid: string;\n\n    constructor() {\n        this.uuid = UUID.UUID();\n    }\n\n    fileContent: string;\n    contentType: string;\n    // number of bytes.\n    size: number;\n    sizeUnit: string;\n    sizeTxt: string;\n    naturalHeight: number;\n    naturalWidth: number;\n    name: string;\n\n    // file uniqness checksum\n    id: string;\n\n    error?: CommonImageError;\n    attachmentOrder: number = 0;\n}\n\nexport interface CommonImageScaleFactors {\n    widthFactor: number;\n    heightFactor: number;\n\n    scaleDown(scale: number): CommonImageScaleFactors;\n}\n\nexport class CommonImageScaleFactorsImpl implements CommonImageScaleFactors {\n    widthFactor: number;\n    heightFactor: number;\n\n    constructor(wFactor: number, hFactor: number) {\n        this.widthFactor = wFactor;\n        this.heightFactor = hFactor;\n    }\n\n    scaleDown(scale: number): CommonImageScaleFactors {\n        return new CommonImageScaleFactorsImpl(\n            this.widthFactor * scale,\n            this.heightFactor * scale);\n    }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;IAII,YAAS;IACT,WAAQ;IACR,SAAM;IACN,gBAAa;IACb,UAAO;IACP,aAAU;IACV,kBAAe;IACf,gBAAa;;;;;;;;;;AAGjB;;IAKI,oCAAmB,SAA2B,EAAS,gBAAyB;QAA7D,cAAS,GAAT,SAAS,CAAkB;QAAS,qBAAgB,GAAhB,gBAAgB,CAAS;KAE/E;IACL,iCAAC;CAAA,IAAA;;;;AAID;;;;IAII;QAkBA,oBAAe,GAAW,CAAC,CAAC;QAjBxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;KAC3B;IAiBL,kBAAC;CAAA,IAAA;;IAaG,qCAAY,OAAe,EAAE,OAAe;QACxC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;KAC/B;;;;;IAED,+CAAS;;;;IAAT,UAAU,KAAa;QACnB,OAAO,IAAI,2BAA2B,CAClC,IAAI,CAAC,WAAW,GAAG,KAAK,EACxB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,CAAC;KAClC;IACL,kCAAC;CAAA;;;;;;;;;;;;;;"}
